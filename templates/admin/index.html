<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="Flask Admin with SB Admin 2" />
  <meta name="author" content="Bukunmi" />

  <title>Cyber Awareness</title>

  <!-- Custom fonts for this template-->

  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css" rel="stylesheet" />
  <!-- Custom styles for this template-->

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 4,
        'wght' 700,
        'GRAD' 0,
        'opsz' 24
    }

    .container {
      animation: transitionIn-X 0.5s;
    }

    .container-fluid {
      animation: transitionIn-X 0.5s;
    }

    .narrow-col {
      flex: 0 0 5%;
      /* Adjust this value to change the width */
      max-width: 5%;
      /* Adjust this value to change the max width */
    }

    body {
      background-image: url("{{ url_for('static', filename='images/3139256.jpg') }}");
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }


    @media (max-width: 768px) {
      body {
        background-image: url("{{ url_for('static', filename='images/mobile-bg.png') }}");
      }
    }
  </style>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">

</head>

<body class="bg-gradient-primary">
  <!-- Image and text -->
  <nav data-mdb-navbar-init class="navbar navbar-light bg-body-tertiary">
    <div class="container-fluid">
      <div class="row">
        <div class="col-2">
          <h1 class="text-white mt-3 m-4">Admin</h1>
       
        </div>

      </div>
    </div>
  </nav>


  <div class="container">


    <!-- Outer Row -->
    <div class="row justify-content-center align-items-center h-screen">

      <div class="col-xl-5 col-lg-7 col-md-9">
        <div class="container-fluid">
          {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
          {% for category, message in messages %}
          <div id="alert" class="alert alert-{{ category }} mt-4" role="alert">
            {{ message }}
          </div>

          {% endfor %}
          {% endif %}
          {% endwith %}
        </div>

        <div class="card o-hidden border-0 shadow-lg my-5">
          <div class="card-body p-7">
            <!-- Nested Row within Card Body -->
            <!-- Pills navs -->
            <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
              <li class="nav-item" role="presentation">
                <a class="nav-link active" id="tab-login" data-mdb-toggle="pill" href="#pills-login" role="tab"
                  aria-controls="pills-login" aria-selected="true">Login</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link" id="tab-register" data-mdb-toggle="pill" href="#pills-register" role="tab"
                  aria-controls="pills-register" aria-selected="false">Register</a>
              </li>
            </ul>
            <!-- Pills navs -->

            <!-- Pills content -->
            <div class="tab-content">
              <div aria-labelledby="tab-login" class="tab-pane fade show active" id="pills-login" role="tabpanel">
                <form action="{{ url_for('admin.admin_login') }}" method="POST">
                  <input id="csrf_token" name="csrf_token" type="hidden" value="{{ csrf_token() }}">
                 
                  <div class="text-center mb-3">
                    <img src="{{ url_for('static', filename='images/icon/user.png') }}" alt="" width="100" height="100">
                  </div>

                  <div class="mb-2">
                    <label for="login-userName" class="form-label">Username</label>
                    <input name="login-userName" type="text" class="form-control" id="login-userName">
                  </div>

                  <div class="mb-4">
                    <label for="login-password" class="form-label">Password</label>
                    <input name="login-password" type="password" class="form-control" id="login-password">
                  </div>


                  <!-- Submit button -->
                  <button class="btn btn-primary btn-block mb-4" name="login-button"
                    style=" font-size: 15px;   height: 40px;" type="submit">Sign in
                  </button>


                </form>
              </div>
              <div aria-labelledby="tab-register" class="tab-pane fade" id="pills-register" role="tabpanel">
                <form method="POST" action="{{ url_for('admin.admin_register') }}" enctype="multipart/form-data">
                  <input id="csrf_token" name="csrf_token" type="hidden" value="{{ csrf_token() }}">
                 
                  <div class="text-center mb-3">
                    <img src="{{ url_for('static', filename='images/icon/add-friend.png') }}" alt="" width="80"
                      height="80">
                  </div>


                  <div class="mb-2">
                    <label for="username" class="form-label">Username</label>
                    <input name="username" type="text" class="form-control" id="username">
                  </div>

                  <div class="mb-2">
                    <label for="email" class="form-label">Email</label>
                    <input name="email" type="text" class="form-control" id="email">
                  </div>

                  <div class="mb-2">
                    <label for="Password" class="form-label">Password</label>
                    <input name="password" type="password" class="form-control" id="Password">
                  </div>

                  <div class="mb-2">
                    <label for="cPassword" class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="cPassword">
                  </div>

 
                  <div class="mb-3">
                    <div id="errorMessage" class="form-text text-danger"> </div>
                  </div>

                  <!-- Submit button -->
                  <button class="btn btn-primary btn-block mb-4" name="register-button"
                    style=" font-size: 15px;   height: 40px;" type="submit">Sign Up
                  </button>

                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  <script type="text/javascript" src="{{ url_for('static', filename='/js/login-register-page.js') }}"></script>

  <script>
    document.getElementById('Password').addEventListener('input', validatePasswords);
    document.getElementById('cPassword').addEventListener('input', validatePasswords);

    function validatePasswords() {
      var password = document.getElementById('Password').value;
      var confirmPassword = document.getElementById('cPassword').value;
      var errorMessage = document.getElementById('errorMessage');

      if (password !== confirmPassword) {
        errorMessage.textContent = 'Passwords do not match';
        return false;
      }

      var regex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{7,}$/;

      if (!regex.test(password)) {
        errorMessage.textContent = 'Password must be more than 6 characters, have at least one uppercase letter, one number, and one special character';
        return false;
      }

      errorMessage.textContent = '';
      return true;
    }
  </script>

</body>

</html>